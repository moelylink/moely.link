<!doctype html><html lang=zh-CN><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge, chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name=theme-color content="#f9f9f9"><meta name=author content="萌哩（moely）"><meta name=copyright content="萌哩（moely）"><title>新年快乐 | 萌哩 - 萌萌的二次元美图</title><meta name=image content="https://www.moely.link/assets/img/favicon.png"><link rel=icon type=image/png href=https://www.moely.link/assets/img/favicon.png><link rel=manifest href=/manifest.json><script src=/sw.js></script><style>::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{border-radius:3px;background:rgba(0,0,0,6%);-webkit-box-shadow:inset 0 0 5px rgba(0,0,0,.1)}::-webkit-scrollbar-thumb{border-radius:3px;background:rgba(0,0,0,.12);-webkit-box-shadow:inset 0 0 10px rgba(0,0,0,.2)}</style><script>navigator.serviceWorker!=null&&navigator.serviceWorker.register("/sw.js").then(function(e){console.log("Registered events at scope: ",e.scope)})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-Z3X6D0X4W1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Z3X6D0X4W1")</script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[n]=e[n]||function(){(e[n].q=e[n].q||[]).push(arguments)},i=t.createElement(s),i.async=1,i.src="https://www.clarity.ms/tag/"+o,a=t.getElementsByTagName(s)[0],a.parentNode.insertBefore(i,a)})(window,document,"clarity","script","om53buqg6n")</script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?e5df16d513dc4879732e42ddaabcdb79",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><style>body,html{margin:0;padding:0;width:100%;height:100%;overflow:hidden;background-color:#3a0000;font-family:kaiti,楷体,serif}.stage{position:absolute;top:0;left:0;width:100%;height:100%;display:none;flex-direction:column;align-items:center;justify-content:center}.active{display:flex}#skip-btn{position:fixed;top:20px;right:20px;z-index:999;padding:6px 12px;background:rgba(0,0,0,.3);color:#fff;border:1px solid rgba(255,255,255,.5);border-radius:20px;cursor:pointer;font-size:12px;letter-spacing:1px}#scene-gate{background:radial-gradient(circle,#5e0d0d 0%,#1a0000 100%);perspective:1200px;overflow:hidden}.gate-wrapper{transform-style:preserve-3d}@media(max-width:600px){.gate-wrapper{transform:scale(.65)translateY(20px)}}.gate-container{position:relative;width:260px;height:360px;background:#8b4513;border:8px solid #482308;box-shadow:0 0 60px rgba(0,0,0,.9);display:flex;justify-content:center;align-items:center;margin:0 auto}.gate-door{width:50%;height:100%;border:1px solid #482308;background:repeating-linear-gradient(45deg,#8B4513,#8B4513 10px,#603010 10px,#603010 20px);position:relative}.gate-door::before{content:'';position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;border:4px solid gold;border-radius:50%;background:radial-gradient(circle,#333,#000)}.banner{position:absolute;top:-60px;left:50%;transform:translateX(-50%);width:160px;height:40px;background:#d60000;color:#111;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:700;border:2px solid gold;letter-spacing:10px;box-shadow:0 5px 15px rgba(0,0,0,.5);z-index:15}.couplet{position:absolute;top:20px;width:36px;height:320px;background:#d60000;color:#111;writing-mode:vertical-rl;display:flex;align-items:center;justify-content:center;font-size:22px;font-weight:700;border:2px solid gold;letter-spacing:4px;padding:10px 0;box-shadow:2px 2px 10px rgba(0,0,0,.5);z-index:10}.couplet.left{left:-50px}.couplet.right{right:-50px}.lantern-box{position:absolute;top:-50px;z-index:25;display:flex;flex-direction:column;align-items:center;transform-origin:top center;animation:swing 4s infinite ease-in-out}.lantern-wire{width:2px;height:20px;background:#333}.lantern-body{position:relative;width:90px;height:72px;background-color:#d60000;border-radius:50px/40px;background-image:radial-gradient(circle at center,rgba(255,200,200,.2) 0%,rgba(0,0,0,.1) 80%),repeating-linear-gradient(90deg,transparent 0,transparent 15px,rgba(139,0,0,.3) 15px,rgba(139,0,0,.3) 16px);box-shadow:0 5px 20px rgba(0,0,0,.4),inset 0 0 15px rgba(100,0,0,.5);display:flex;justify-content:center;align-items:center}.lantern-body::before,.lantern-body::after{content:'';position:absolute;left:50%;transform:translateX(-50%);width:40px;height:6px;background:linear-gradient(to right,#ffd700,#ffec8b,#ffd700);border-radius:3px;border:1px solid #b8860b}.lantern-body::before{top:-4px}.lantern-body::after{bottom:-4px}.lantern-text{color:gold;font-weight:700;font-size:24px;z-index:2;text-shadow:1px 1px 1px #5e0d0d}.lantern-tassel{width:14px;height:50px;margin-top:2px;background:repeating-linear-gradient(to right,#ffd700 0,#ffd700 2px,#cca300 2px,#cca300 3px);border-radius:0 0 5px 5px;position:relative}.lantern-tassel::before{content:'';position:absolute;top:-6px;left:50%;transform:translateX(-50%);width:8px;height:8px;background:#d60000;border-radius:50%}.lantern-box.left.l1{left:-190px;animation-delay:0s}.lantern-box.left.l2{left:-100px;top:-30px;animation-delay:.5s}.lantern-box.right.r1{right:-100px;top:-30px;animation-delay:.8s}.lantern-box.right.r2{right:-190px;animation-delay:.2s}@keyframes swing{0%,100%{transform:rotate(-3deg)}50%{transform:rotate(3deg)}}#final-fu{position:absolute;width:100px;height:100px;background:#d60000;transform:rotate(45deg);box-shadow:2px 2px 10px rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;border:2px solid gold;opacity:0;transition:opacity 1.5s;z-index:5}#final-fu img{width:100%;height:100%;transform:rotate(-45deg)}@keyframes cinemaZoom{0%{transform:scale(.6)translateY(50px);opacity:0}100%{transform:scale(1)translateY(0);opacity:1}}#scene-write{background:rgba(0,0,0,.85);z-index:100;backdrop-filter:blur(5px)}.canvas-box{position:relative;width:280px;height:280px;background:#d60000;border:4px solid gold;transform:rotate(45deg);margin:40px;box-shadow:0 0 30px rgba(0,0,0,.5)}.canvas-inner{width:100%;height:100%;transform:rotate(-45deg);overflow:hidden;background:#d60000}#fu-canvas{cursor:crosshair;touch-action:none;background:0 0}.controls{position:relative;z-index:101;display:flex;gap:20px;margin-top:20px}button.btn{padding:10px 25px;background:gold;color:#5e0d0d;border:none;font-weight:700;font-size:16px;cursor:pointer;border-radius:50px;box-shadow:0 4px 10px rgba(0,0,0,.3)}button.btn-outline{background:0 0;border:2px solid gold;color:gold}#scene-fireworks{background:linear-gradient(#020205,#100a1c);cursor:pointer;position:relative}#firework-canvas{width:100%;height:100%;position:relative;z-index:2}#star-container{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.star{position:absolute;background:#fff;border-radius:50%;animation:twinkle var(--duration)ease-in-out infinite;opacity:var(--opacity)}@keyframes twinkle{0%,100%{opacity:.2;transform:scale(.8)}50%{opacity:1;transform:scale(1.2)}}.hint-text{position:absolute;bottom:15%;width:100%;text-align:center;color:#fff;z-index:10;font-size:16px;pointer-events:none;opacity:.8;animation:pulse 1.5s infinite;letter-spacing:2px;text-shadow:0 0 10px rgba(255,255,255,.5)}@keyframes pulse{0%,100%{opacity:.4}50%{opacity:1}}</style></head><body><button id=skip-btn>跳过</button><div id=scene-gate class="stage active"><div class=gate-wrapper id=gate-main><div class=gate-container><div class=banner>吉星高照</div><div class=gate-door></div><div class=gate-door></div><div class="lantern-box left l1"><div class=lantern-wire></div><div class=lantern-body><span class=lantern-text>新</span></div><div class=lantern-tassel></div></div><div class="lantern-box left l2"><div class=lantern-wire></div><div class=lantern-body><span class=lantern-text>年</span></div><div class=lantern-tassel></div></div><div class="lantern-box right r1"><div class=lantern-wire></div><div class=lantern-body><span class=lantern-text>快</span></div><div class=lantern-tassel></div></div><div class="lantern-box right r2"><div class=lantern-wire></div><div class=lantern-body><span class=lantern-text>乐</span></div><div class=lantern-tassel></div></div><div class="couplet left">瑞气盈门骏马跃</div><div class="couplet right">春光满院福星临</div><div id=final-fu><img id=fu-img src alt=福></div></div></div></div><div id=scene-write class=stage><h2 style="color:gold;margin-bottom:20px;text-shadow:0 2px 5px #000">挥毫泼墨迎新春</h2><div class=canvas-box><div class=canvas-inner><canvas id=fu-canvas width=280 height=280></canvas></div></div><div class=controls><button class="btn btn-outline" onclick=clearCanvas()>重写</button><button class=btn onclick=confirmFu()>写好了</button></div></div><div id=scene-fireworks class=stage><div id=star-container></div><canvas id=firework-canvas></canvas><div class=hint-text>点击夜空 燃放烟花</div></div><script>const urlParams=new URLSearchParams(window.location.search),redirectUrl=urlParams.get("redirect")||"/";function setVisitedCookie(){const t=(new Date).toISOString().slice(0,10),e=new Date;e.setHours(23,59,59,999),document.cookie=`has_visited_newyear_${t}=true; expires=${e.toUTCString()}; path=/`}function finishAndRedirect(){setVisitedCookie(),window.location.href=redirectUrl}document.getElementById("skip-btn").addEventListener("click",finishAndRedirect),window.onload=function(){const e=document.getElementById("gate-main");e.style.animation="cinemaZoom 3.5s cubic-bezier(0.25, 1, 0.5, 1) forwards",setTimeout(()=>{document.getElementById("scene-write").classList.add("active")},4e3)};const canvas=document.getElementById("fu-canvas"),ctx=canvas.getContext("2d");let isDrawing=!1;ctx.lineWidth=10,ctx.lineCap="round",ctx.lineJoin="round",ctx.strokeStyle="#222",ctx.shadowBlur=2,ctx.shadowColor="#222";function getPos(e){const t=canvas.getBoundingClientRect(),n=canvas.width/t.width,s=canvas.height/t.height,o=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY;return{x:(o-t.left)*n,y:(i-t.top)*s}}function startDraw(e){isDrawing=!0;const t=getPos(e);ctx.beginPath(),ctx.moveTo(t.x,t.y),e.preventDefault()}function moveDraw(e){if(!isDrawing)return;const t=getPos(e);ctx.lineTo(t.x,t.y),ctx.stroke(),e.preventDefault()}function endDraw(){isDrawing=!1}canvas.addEventListener("mousedown",startDraw),canvas.addEventListener("mousemove",moveDraw),canvas.addEventListener("mouseup",endDraw),canvas.addEventListener("touchstart",startDraw,{passive:!1}),canvas.addEventListener("touchmove",moveDraw,{passive:!1}),canvas.addEventListener("touchend",endDraw);function clearCanvas(){ctx.clearRect(0,0,canvas.width,canvas.height)}function confirmFu(){const e=canvas.toDataURL();document.getElementById("fu-img").src=e,document.getElementById("scene-write").classList.remove("active"),document.getElementById("final-fu").style.opacity=1,setTimeout(()=>{document.getElementById("scene-gate").style.display="none",initStars(),startFireworks()},2e3)}function initStars(){const e=document.getElementById("star-container");for(let n=0;n<50;n++){const t=document.createElement("div");t.className="star",t.style.left=Math.random()*100+"%",t.style.top=Math.random()*80+"%",t.style.width=Math.random()*3+1+"px",t.style.height=t.style.width,t.style.setProperty("--duration",Math.random()*3+1+"s"),t.style.setProperty("--opacity",Math.random()*.7+.3),e.appendChild(t)}}function startFireworks(){const a=document.getElementById("scene-fireworks");a.classList.add("active");const t=document.getElementById("firework-canvas"),e=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight;let o=20;const d=document.querySelector(".hint-text"),p=setInterval(()=>{o--,o<=5&&o>0?d.innerText=`即将在 ${o} 秒后进入网站...`:o<=0&&(clearInterval(p),finishAndRedirect())},1e3);let n=[],i=[],s=[];const l=[{main:0,outer:45},{main:120,outer:280},{main:240,outer:180},{main:300,outer:50},{main:45,outer:0}];class f{constructor(e,n){this.x=e,this.y=t.height,this.targetY=n,this.speed=12,this.trail=[]}update(){return this.y-=this.speed,this.trail.push({x:this.x,y:this.y}),this.trail.length>5&&this.trail.shift(),!(this.y<=this.targetY)||(m(this.x,this.y),!1)}draw(){e.beginPath(),e.arc(this.x,this.y,3,0,Math.PI*2),e.fillStyle="#fff",e.fill(),e.beginPath(),e.moveTo(this.x,this.y);for(let t of this.trail)e.lineTo(t.x,t.y);e.strokeStyle="rgba(255, 215, 0, 0.5)",e.stroke()}}class u{constructor(e,t,n,s){this.x=e,this.y=t;const o=Math.random()*Math.PI*2;this.vx=Math.cos(o)*s,this.vy=Math.sin(o)*s,this.friction=.95,this.gravity=.05,this.life=100,this.hue=n,this.size=Math.random()*2+1}update(){this.vx*=this.friction,this.vy*=this.friction,this.vy+=this.gravity,this.x+=this.vx,this.y+=this.vy,this.life-=1.2}draw(){e.beginPath(),e.arc(this.x,this.y,this.size,0,Math.PI*2);const t=50+this.life/100*40,n=this.life/100;e.fillStyle=`hsla(${this.hue}, 100%, ${t}%, ${n})`,e.fill()}}class h{constructor(e,t,n){this.x=e,this.y=t,this.radius=2,this.maxRadius=30+Math.random()*20,this.alpha=1,this.hue=n}update(){this.radius+=4,this.alpha-=.08}draw(){e.save(),e.globalAlpha=Math.max(0,this.alpha),e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2);const t=e.createRadialGradient(this.x,this.y,0,this.x,this.y,this.radius);t.addColorStop(0,`hsla(${this.hue}, 100%, 95%, 1)`),t.addColorStop(.4,`hsla(${this.hue}, 100%, 70%, 0.6)`),t.addColorStop(1,`hsla(${this.hue}, 100%, 50%, 0)`),e.fillStyle=t,e.fill(),e.restore()}}function m(e,t){const o=l[Math.floor(Math.random()*l.length)],i=80+Math.random()*40;let a=o.main;for(let s=0;s<i;s++){const a=Math.random()>.6,r=a?o.outer:o.main,c=r+(Math.random()*30-15),l=a?Math.random()*3+6:Math.random()*3+2;n.push(new u(e,t,c,l))}s.push(new h(e,t,a))}function r(){e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0, 0, 0, 0.2)",e.fillRect(0,0,t.width,t.height),e.globalCompositeOperation="lighter";for(let e=0;e<i.length;e++)i[e].update()?i[e].draw():(i.splice(e,1),e--);for(let e=0;e<n.length;e++)n[e].update(),n[e].draw(),n[e].life<=0&&(n.splice(e,1),e--);e.globalCompositeOperation="source-over";for(let e=0;e<s.length;e++)s[e].update(),s[e].draw(),s[e].alpha<=0&&(s.splice(e,1),e--);requestAnimationFrame(r)}r();function c(e){const t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,s=Math.min(n,window.innerHeight*.8);i.push(new f(t,s))}a.addEventListener("mousedown",c),a.addEventListener("touchstart",e=>{e.preventDefault();for(let t=0;t<e.touches.length;t++)c(e)},{passive:!1})}</script></body></html>